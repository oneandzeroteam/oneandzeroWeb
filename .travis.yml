language: ruby
rvm:
  - 2.3.0

services:
  - elasticsearch

before_script:
  - sleep 10

install:
    bundle install

script:
    ./reset_db.sh

env:
    global:
        - RAILS_ENV=production
        - secure: "gr0Xc7u30TOf0HI+YFSbV2ifqiJsB7678Ew3/UTNJBf7e49c600AZn3C0RvHKZQvEUBS/LOaQfepD1bYF/nLFtYY6BmUE1ygyz93RCOusKvwaMhO/CX/V6ceS2boS0mvc40IjDpas9KFFl/gmJc1K+SBHoJnkqZVoJQ3wOkUZpzk2KdodeFNmGF6jLW8jVSazr8ailHdU8LHPd0cDqqBb+Difni44yhFEMb+cOVj+jTz5nc3L+noBiylemarHCVT4ZZKxCadbTvfvJe5GKAwrGTpI5GNnex9nE7e86+PPUnDdcU59ueTAMpO7r6lme/u34Mqr9kjh02LUqLRZlndt4+Aj5/WDiiFFDK/91XUe5eRtAyNgWV9wcYOrEZs/O4catLcXFM5Hbtb54xz84T8dnMREsw/KjnPvkl2cy8onHQU1Dfch0U+Wd+ScUE8wqFWfdfnBUE+nKkELJfRktWGkRa/GhVZAelvnsXhFoLI0WKW3cYSby0hsx+UudaJh6qURJc/60VJIOotIXyGPGTQRUy8kmAjfuw/MHKiJfhcooUKxhxerKDPS4lhqTMFYy005kHWvmCFxj8I8xPYY5h2/6GT2Xo37+CJXSpe/nGXnZTRCvjrBUzAPkL9gLiXI/wVGefVDfAIG2gTWushUqrEziXsDtXepOlGx1IMj4bjWq0="
        - secure: "trRnUABL+x8C32JcIkd+MMHMGJ+jnVEh4OXUMOi814P4gKulYrsOoK78dnwgD+v2KsOyjuDz7TTbCxrH2zG+u9LQW9k4Ny9+wi6bnwjD6B8EtxemhatxL+5tnhZxvh4+mILMIaFica84L50X+d2LGICyIJ/Y/WheAr8XnBkiPPPAQkCCfW0ZxeeRmcNZXzwVJ9ByRqwe9JJJNG1a2Ow6yDGlNKOE3tzaMtvhCRyMGEGI9gNe48RFgAZFBdWD6soK8E99tcVkJoAg5AQUFatT69RXLYw5TOXTk2KnvxHB25WIM3AYRJay4UO2qaTDfqr4aSbI0ruOwFR/V+9OuUfikzKIER7XBdKtiBeJJIQBVQVyNaH4Cu+l27rhuDp+nkVyiQF8JzeIj1AmKmifghgksSoOmtMJr94TI71siAZOtXByrboC8cx+7BXHjxGeggSAEUoH8z8v2sg0XrKKozkbkUQ8swxuCKHgasc46JyFaTgtAswd9uUtedg8KbRqJdyDdXK2RFZNKVRYnpWDIOMV4QvBPwcHBC+sSwMQeZkkIrWolXeLfnOALvR6OPAzjyd/25kpJFYXu+tu7YxK4KZ1f55wnWtcOMKZWt1uE6yJr2v/Hqj5foKHe7AS6uSWGnMlmAwC3mr22J8oNkHyjjZLa0JJbdXFUmuC4itdhFhZgdU="
        - secure: "cDBlSZ9aEViEi7R30FZRNbDHePYAgqsUq3ymD6xMoJu336/1i7jJKzqifY1O0wPwH193jOuw4Tpppm2Kq0KAJE2QrgkGBJgaeCN1tNnQ+q8w5KU1KnmhIz+ZN9MqUpzfdOjNs84k5ct20aaF+mb9lSFLE7PXIgS4Uzk7vNGbYVSjM7MVBZ3scsArayegWPN9burHAGGgEAJ1CujTXqYgqlbx9RQHIe6WHc5fUgBy8e0kUcQB8yQAxqt9f4VAcFpa3u3hWh+csXmoQRyTtH4RrNuO1K6/W2lnrJqjFOUGKhNP6x53zyh8tcAo0JQlCmp69AaHLx6pqp+bFUJfAab+aMB6gahEKZS0Xt0aNXDfqhasrs82C19W8I149azSXBjPkPxPqW6nfjB9AZsE6SNZrUCfStpRr5YD+psQQiZBZVLgUPkymkBVQ9totIEob63lr9iJwk2Khn7PWRurFtF+E1hVKpQE2XE8NvLk/GNDmVwfMaXJ0/QPc3ZU0bX5E711JKbLaiYjEgI2FOUrMBzdRAL+fJUQRCFMmu+tM+NzORBR71v9tj03/0+5y6ps6xtyo3euftYa89Xdu+Wcmj1lo04X7qLD78VCS9rGr/5wXocNlTWCMkGg5bmwoJLrYH+ZvtpQuyxCF9GbD8EDIo0T8G4gAw+CnpzVpG+8G6+anO4="
        - secure: "Fsak5zCfalz2NxuK/hlHLHTyEMmn7gB09Tt6o/5uQxJ1OxrmxjSl6esAUI7T7OO0Sje+LMMWUUDosQibY9OpZOTLTcwHpB5Oug9ac9CFQgeGMcw4LuKyubKJcQbTaGUNOFnSj686ikfEXABRAvBpkcUEuQztYEzs8uWL7LLzbTsZaiXxVWsEjPXngdlxXppe6aeAwlXzqJ6e1T6MIfQM3Z5ESYDfLHYfKhe0e+gdAeDrjRcBcL37HjofD71SYe1+KhE/h5ODiXjFvLnNrNgRH4L6rKCOtDrkZohXy25Zx+3BWVf0POX4YPGKMZZdBFrntKoL1vNu6V/B7CykEkgqznqbshpQPzzy/TIxAqLKgJ7b0btUbVN55t3Q92oKFxUQ2I52xoH2RvCR3MLNIFXKO2pxxT28nTKZNOFtEZYIq2lUapjQZuca8BCplKEydbVfBdui5xxzGK6l0jnurdrBeUaF006s+857P0NXcgT2HTsjOlBERX4JQesd+wwavDCdD4e7OmP/SLB9F/AQlIw/+jOJ+M0JmAcfARG/jnPuX96ZLi6ea92iPHFOxMWc/33euGJifGB+HkA5ORAIzWg7QEGrVGXLYQvoYwY4r813UYclyijTJgsbmw0tq7eMl6tQThMEBXbAGbybDkXbhgvN7EyT0IF/V0/zVZCXpMTihMc="
        - secure: "eed/tJdR5iZJB41EDbjPzFcIEcB3pg8SD3zi4BgBgADU5fpN7eAaczjiJ59egxL++ODLNCmDSMvTq4de/tnbOsI1p+00Y4IiIsXAHUlGYdU4ZrloX+GqVCFBtd3s56whDVcwpk+0G1bax6LakQgIj4/1jQLlKZ6ZKloEP5a+YNqp3QATEMw/bg3vu7edUUsO49l2TgmSFAD9kC+0fTYrAAFkTjX9woinftBh3A2NLk777DOpddrq52pJSvJRxgLW5lxM08Y4bVnO6+mXnGar5yuD14tdvhNsbLi0Xf00ASa9i+uUGrmyrrq4frDyyKDy2slpBhLe40O8b4Xo+2Qx4VoGo5pD0aQpwZpwpg6wQK8k87jKr+6j2waaCshsYr+kIUm5kjj+L2ZH0aEn6pnUBPFr+LaFWGCkQkVpLzgvgiMjBEGC3rI/HmCiKtgsTp+3B++hvGYzN3UuSkoy0lzn3bZfNgLHKIXtzJbaz7FhyEl13bnCwMaay5k4HbONeLY9L/NMQs5Xq7PYIoTyA1LcNIfRkimuupdZH6v6TexCKlVlSoSqgUQXwFtuDxoJeqSytB0ruaDgRDzULJmpXCF4WT3VY3njG4RTG/64t/uw27NAwdqRDB3FiACGYjHPrwLK4GREq1l50fkTbjdVYJmEYdiWYOn/t+4k3IaG10Tbtic="

notifications:
  slack:
      rooms:
            - oneandzeroweb:g0nMkPgQoz9TaYvhJjHDBLrh#general            
            - oneandzeroweb:g0nMkPgQoz9TaYvhJjHDBLrh#server_deployment
